
(function(h){var p={topLeft:["top","left"],top:["top","center"],topRight:["top","right"],bottomLeft:["bottom","left"],bottom:["bottom","center"],bottomRight:["bottom","right"],leftTop:["left","top"],left:["left","center"],leftBottom:["left","bottom"],rightTop:["right","top"],right:["right","center"],rightBottom:["right","bottom"]};var o={fade:["vCover","fade"],zoomIn:["vCover","zoom"],zoomOut:["vCover","zoom"],coverDown:["vCover","sliceDown"],coverUp:["vCover","sliceUp"],coverRight:["hCover","sliceRight"],coverLeft:["hCover","sliceLeft"],blockExpandDown:["blocks","expand"],blockExpandUp:["blocks","expand"],blockExpandRight:["blocks","expand"],blockExpandLeft:["blocks","expand"],diagonalFade:["blocks","diagonalFade"],reverseDiagonalFade:["blocks","diagonalFade"],diagonalExpand:["blocks","diagonalExpand"],reverseDiagonalExpand:["blocks","diagonalExpand"],diagonalShift:["blocks","diagonalShift"],reverseDiagonalShift:["blocks","diagonalShift"],blockRandomFade:["blocks","randomEffect"],blockRandomExpand:["blocks","randomEffect"],blockRandomDrop:["blocks","randomEffect"],zigZagDown:["blocks","zigZag"],zigZagUp:["blocks","zigZag"],zigZagRight:["blocks","zigZag"],zigZagLeft:["blocks","zigZag"],spiralIn:["blocks","spiral"],spiralOut:["blocks","spiral"],sliceDownRight:["vSlices","sliceDown"],sliceDownLeft:["vSlices","sliceDown"],sliceDownRandom:["vSlices","sliceDown"],sliceUpRight:["vSlices","sliceUp"],sliceUpLeft:["vSlices","sliceUp"],sliceUpRandom:["vSlices","sliceUp"],sliceFadeRight:["vSlices","fade"],sliceFadeLeft:["vSlices","fade"],verticalRandomFade:["vSlices","fade"],sliceAltRight:["vSlices","sliceAlt"],sliceAltLeft:["vSlices","sliceAlt"],blindsRight:["vSlices","blinds"],blindsLeft:["vSlices","blinds"],verticalRandomBlinds:["vSlices","blinds"],sliceMoveRight:["vSlices","move"],sliceMoveLeft:["vSlices","move"],sliceRightDown:["hSlices","sliceRight"],sliceRightUp:["hSlices","sliceRight"],sliceRightRandom:["hSlices","sliceRight"],sliceLeftDown:["hSlices","sliceLeft"],sliceLeftUp:["hSlices","sliceLeft"],sliceLeftRandom:["hSlices","sliceLeft"],sliceFadeDown:["hSlices","fade"],sliceFadeUp:["hSlices","fade"],horizontalRandomFade:["hSlices","fade"],sliceAltDown:["hSlices","sliceAlt"],sliceAltUp:["hSlices","sliceAlt"],blindsDown:["hSlices","blinds"],blindsUp:["hSlices","blinds"],horizontalRandomBlinds:["hSlices","blinds"],sliceMoveDown:["hSlices","move"],sliceMoveUp:["hSlices","move"],horizontalSlide:["hSlide","slide"],verticalSlide:["vSlide","slide"]};var A="ontouchstart" in window;var D=a();var z=a(6);var B=500;var m=50;var f="updateThumbnails";var E="resizeControlPanel";var r="updateSize";var C={linear:"linear","":"ease",swing:"ease",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInBack:"cubic-bezier(.60,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175,.885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};t("transform");t("transition");t("backgroundSize");t("borderRadius");var d;var n;switch(h.support.transition){case"transition":d="transition";n="transitionend";break;case"WebkitTransition":d="-webkit-transition";n="webkitTransitionEnd";break;case"MozTransition":d="-moz-transition";n="transitionend";break;case"OTransition":d="-o-transition";n="oTransitionEnd";break}function v(J,L){this._$timer=h("<div></div>").addClass("br-bar-timer");var K=e(p[L],p.top);this._$timer.addClass("bottom"===K[0]?"br-bottom":"br-top");J.append(this._$timer)}v.prototype={start:function(J){this._$timer.animate({width:"101%"},{duration:J,easing:"linear",queue:false})},stop:function(){this._$timer.stop().width(0)},pause:function(){this._$timer.stop()}};function k(J,L){this._$timer=h('<div class="br-pie-timer">							<div class="br-rside"><div class="br-rotate"></div></div>						   	<div class="br-lside"><div class="br-rotate"></div></div>						  </div>').css({opacity:0});var K=e(p[L],p.topRight);this._$timer.css(K[0],0).css(K[1],0);this._$left=this._$timer.find(">.br-lside .br-rotate");this._$right=this._$timer.find(">.br-rside .br-rotate");this._elapsed=this._delay=0;this._intervalId=null;J.append(this._$timer)}k.prototype={start:function(J){if(0===this._delay){this._delay=J;this._$timer.stopTransition(true).transition({opacity:0.75},B,"");this._$left.add(this._$right).css({transform:"rotateZ(0deg)"})}this._intervalId=setInterval(h.proxy(function(){this._elapsed+=50;var L=this._elapsed/this._delay,K=L*360;if(L<=0.5){this._$right.css({transform:"rotateZ("+K+"deg)"})}else{this._$left.css({transform:"rotateZ("+(K-180)+"deg)"})}},this),50)},stop:function(){clearInterval(this._intervalId);this._elapsed=this._delay=0;this._$left.add(this._$right).css({transform:"rotateZ(180deg)"});this._$timer.stopTransition(true).transition({opacity:0},B,"")},pause:function(){clearInterval(this._intervalId)}};function c(K,J){this._parent=K;this._intervalId=null;this._delay=J}c.prototype={create:function(J){var K=this._total,L="",M=this._parent._$screen.find(">.br-effects");while(K--){L+='<div class="'+J+'"></div>'}M.append(L);return M.children("."+J).slice(-this._total).css({backgroundColor:this._parent._$screen.css("backgroundColor")})},clear:function(){clearInterval(this._intervalId);this._$el.stopTransition(true,false).css({visibility:"hidden"});this._parent._inProgress=false},resize:function(J){this.clear();this._width=Math.ceil(this._$el.data("width")*J);this._height=Math.ceil(this._$el.data("height")*J)},setImage:function(J,K){J.find(">img").remove();J.append(h('<img src="'+K.attr("src")+'" alt=""/>').css({top:K.css("top"),left:K.css("left")}).width(K.width()).height(K.height()))},setBgImage:function(J,K){J.css({backgroundImage:"url("+K.attr("src")+")",backgroundSize:K.css("width")+" "+K.css("height"),backgroundPosition:K.css("left")+" "+K.css("top")})},animate:function(N,K,M,O){var J=0,L=this._total-1;this._intervalId=setInterval(h.proxy(function(){if(J!==L){h(N[J]).transition(K,M,O)}else{h(N[J]).transition(K,M,O,h.proxy(function(){this._parent.displayCurrent();this._$el.css({visibility:"hidden"})},this))}if(++J===this._total){clearInterval(this._intervalId)}},this),this._delay)}};l.prototype=new c();l.prototype.constructor=l;function l(L,J){c.call(this,L,0);this._orientation=J;this._total=1;var K;if("vertical"===this._orientation){this._position="top";K="br-vslide"}else{this._position="left";K="br-hslide"}this._$el=this.create(K).append("<div></div><div></div>");this._$slides=this._$el.children()}l.prototype.slide=function(P,R,L,M){var J,O,N={},K=this._parent._$prevItem.find(">img.br-main-img"),Q=("vertical"===this._orientation)?-this._$slides.height():-this._$slides.width();if(this._parent._backward){O=this._$slides.first();J=this._$slides.last();this._$el.css(this._position,Q);N[this._position]=0}else{O=this._$slides.last();J=this._$slides.first();this._$el.css(this._position,0);N[this._position]=Q}if(h.support.backgroundSize){this.setBgImage(J,K);this.setBgImage(O,P)}else{this.setImage(J,K);this.setImage(O,P)}this._$el.css({visibility:"visible"});this.animate(this._$el.toArray(),N,L,M)};I.prototype=new c();I.prototype.constructor=I;function I(K,L,J){c.call(this,K,J);this._cssTransform=this._parent._cssTransform;this._total=L;this._width=Math.ceil(this._parent._stageWidth/this._total);this._$el=this.create("br-vslice").data({width:this._width})}I.prototype.sliceDown=function(J,K,L,N){var M=this._$el.toArray();if("sliceDownLeft"===K){M.reverse()}else{if("sliceDownRandom"===K){y(M)}}if(this._cssTransform){this.set(J,{transform:"translateY(-100%)"});this.animate(M,{transform:"translateY(0)"},L,N)}else{this.set(J,{top:-this._$el.height()});this.animate(M,{top:0},L,N)}};I.prototype.sliceUp=function(J,K,L,N){var M=this._$el.toArray();if("sliceUpLeft"===K){M.reverse()}else{if("sliceUpRandom"===K){y(M)}}if(this._cssTransform){this.set(J,{transform:"translateY(100%)"});this.animate(M,{transform:"translateY(0)"},L,N)}else{this.set(J,{top:this._$el.height()});this.animate(M,{top:0},L,N)}};I.prototype.sliceAlt=function(J,K,L,N){var M=this._$el.toArray();if("sliceAltLeft"===K){M.reverse()}if(this._cssTransform){this.set(J,{transform:"translateY(-100%)"});this._$el.filter(":odd").css({transform:"translateY(100%)"});this.animate(M,{transform:"translateY(0)"},L,N)}else{this.set(J,{top:-this._$el.height()});this._$el.filter(":odd").css({top:this._$el.height()});this.animate(M,{top:0},L,N)}};I.prototype.blinds=function(J,K,L,N){this.set(J,{width:0});var M=this._$el.toArray();if("blindsLeft"===K){M.reverse()}else{if("verticalRandomBlinds"===K){y(M)}}this.animate(M,{width:this._width+"px"},L,N)};I.prototype.fade=function(J,K,L,N){this.set(J,{opacity:0});var M=this._$el.toArray();if("sliceFadeLeft"===K){M.reverse()}else{if("verticalRandomFade"===K){y(M)}}this.animate(M,{opacity:1},L,N)};I.prototype.move=function(J,L,M,O){var N=this._$el.toArray(),K=this._$el.parent().width();if("sliceMoveRight"===L){N.reverse();K*=-1}if(this._cssTransform){this.set(J,{transform:"translateX("+K+"px)"});this.animate(N,{transform:"translateX(0)"},M,O)}else{this.set(J,{left:"+="+K});this.animate(N,{left:"-="+K},M,O)}};I.prototype.zoom=function(J,K,L,M){if(this._cssTransform){this.set(J,"zoomOut"===K?{transform:"scale(2)"}:{transform:"scale(0)"});this.animate(this._$el.toArray(),{transform:"scale(1)"},L,M)}else{this.fade(J,K,L,M)}};I.prototype.set=function(K,J){var L=K.position().left;if(h.support.backgroundSize){this.setBgImage(this._$el,K)}else{this.setImage(this._$el,K)}var M=this._$el.parent().width();this._$el.each(h.proxy(function(R,P){var O=Math.min(this._width,M),Q=R*this._width,N=(L-Q)+"px";h(P).css({left:Q+"px"}).width(O);if(h.support.backgroundSize){h(P).css({backgroundPosition:N+" "+K.css("top")})}else{h(P).find(">img").css({left:N})}M-=O},this));this._$el.css(h.extend({opacity:1,top:0,visibility:"visible",transform:""},J))};H.prototype=new c();H.prototype.constructor=H;function H(K,L,J){c.call(this,K,J);this._cssTransform=this._parent._cssTransform;this._total=L;this._height=Math.ceil(this._parent._stageHeight/this._total);this._$el=this.create("br-hslice").data({height:this._height})}H.prototype.sliceRight=function(J,K,L,N){var M=this._$el.toArray();if("sliceRightUp"===K){M.reverse()}else{if("sliceRightRandom"===K){y(M)}}if(this._cssTransform){this.set(J,{transform:"translateX(-100%)"});this.animate(M,{transform:"translateX(0)"},L,N)}else{this.set(J,{left:-this._$el.width()});this.animate(M,{left:0},L,N)}};H.prototype.sliceLeft=function(J,K,L,N){var M=this._$el.toArray();if("sliceLeftUp"===K){M.reverse()}else{if("sliceLeftRandom"===K){y(M)}}if(this._cssTransform){this.set(J,{transform:"translateX(100%)"});this.animate(M,{transform:"translateX(0)"},L,N)}else{this.set(J,{left:this._$el.width()});this.animate(M,{left:0},L,N)}};H.prototype.sliceAlt=function(J,K,L,N){var M=this._$el.toArray();if("sliceAltUp"===K){M.reverse()}if(this._cssTransform){this.set(J,{transform:"translateX(-100%)"});this._$el.filter(":odd").css({transform:"translateX(100%)"});this.animate(M,{transform:"translateX(0)"},L,N)}else{this.set(J,{left:-this._$el.width()});this._$el.filter(":odd").css({left:this._$el.width()});this.animate(M,{left:0},L,N)}};H.prototype.blinds=function(J,K,L,N){this.set(J,{height:0});var M=this._$el.toArray();if("blindsUp"===K){M.reverse()}else{if("horizontalRandomBlinds"===K){y(M)}}this.animate(M,{height:this._height+"px"},L,N)};H.prototype.fade=function(J,K,L,N){this.set(J,{opacity:0});var M=this._$el.toArray();if("sliceFadeUp"===K){M.reverse()}else{if("horizontalRandomFade"===K){y(M)}}this.animate(M,{opacity:1},L,N)};H.prototype.move=function(K,L,M,O){var N=this._$el.toArray(),J=this._$el.parent().height();if("sliceMoveDown"===L){N.reverse();J*=-1}if(this._cssTransform){this.set(K,{transform:"translateY("+J+"px)"});this.animate(N,{transform:"translateY(0)"},M,O)}else{this.set(K,{top:"+="+J});this.animate(N,{top:"-="+J},M,O)}};H.prototype.set=function(M,L){var K=M.position().top;if(h.support.backgroundSize){this.setBgImage(this._$el,M)}else{this.setImage(this._$el,M)}var J=this._$el.parent().height();this._$el.each(h.proxy(function(R,O){var N=Math.min(this._height,J),P=R*this._height,Q=(K-P)+"px";h(O).css({top:P+"px"}).height(N);if(h.support.backgroundSize){h(O).css({backgroundPosition:M.css("left")+" "+Q})}else{h(O).find(">img").css({top:Q})}J-=N},this));this._$el.css(h.extend({opacity:1,left:0,visibility:"visible",transform:""},L))};q.prototype=new c();q.prototype.constructor=q;function q(N,O,P,L){c.call(this,N,L);this._cssTransform=this._parent._cssTransform;this._blockArray;this._numRows=O;this._numCols=P;this._width=Math.ceil(this._parent._stageWidth/this._numCols);this._height=Math.ceil(this._parent._stageHeight/this._numRows);this._total=this._numRows*this._numCols;this._$el=this.create("br-block").data({width:this._width,height:this._height});var J=0;this._blockArray=[];for(var M=0;M<this._numRows;M++){this._blockArray[M]=[];for(var K=0;K<this._numCols;K++){this._blockArray[M][K]=this._$el.eq(J++)}}}q.prototype.diagonalFade=function(J,K,L,N){this.set(J,{opacity:0});var M=this.getDiagonalArray();if("reverseDiagonalFade"===K){M.reverse()}this.animate(M,{opacity:1},L,N)};q.prototype.diagonalExpand=function(J,L,M,O){var N=this.getDiagonalArray(),K=this.getExpandCSS();this.set(J,K.from);if("reverseDiagonalExpand"===L){N.reverse()}this.animate(N,K.to,M,O)};q.prototype.diagonalShift=function(K,M,N,P){var O=this.getDiagonalArray(),J=this._width,L=this._height;if("reverseDiagonalShift"===M){O.reverse();J*=-1;L*=-1}if(this._cssTransform){this.set(K,{opacity:0,transform:"translate("+J+"px, "+L+"px)"});this.animate(O,{opacity:1,transform:"translate(0, 0)"},N,P)}else{this.set(K,{opacity:0,left:"+="+J,top:"+="+L});this.animate(O,{opacity:1,left:"-="+J,top:"-="+L},N,P)}};q.prototype.randomEffect=function(J,R,K,M){var L=this._$el.toArray();y(L);var O,P;if("blockRandomDrop"===R){var Q=this._$el.parent().height();if(this._cssTransform){O={transform:"translateY("+-Q+"px)"};P={transform:"translateY(0)"}}else{O={top:"-="+Q};P={top:"+="+Q}}}else{if("blockRandomExpand"===R){var N=this.getExpandCSS();O=N.from;P=N.to}else{O={opacity:0};P={opacity:1}}}this.set(J,O);this.animate(L,P,K,M)};q.prototype.zigZag=function(J,K,L,N){this.set(J,{opacity:0});var M=this.getZigZagArray(K);if("zigZagLeft"===K||"zigZagUp"===K){M.reverse()}this.animate(M,{opacity:1},L,N)};q.prototype.spiral=function(J,K,L,N){this.set(J,{opacity:0});var M=this.getSpiralArray();if("spiralOut"===K){M.reverse()}this.animate(M,{opacity:1},L,N)};q.prototype.expand=function(J,L,M,N){var K=this.getExpandCSS();this.set(J,K.from);this.animate(this.getDirectionalArray(L),K.to,M,N)};q.prototype.getExpandCSS=function(){if(this._cssTransform){return{from:{transform:"scale(0)"},to:{transform:"scale(1)"}}}else{return{from:{width:0,height:0},to:{width:this._width+"px",height:this._height+"px"}}}};q.prototype.set=function(J,P){var Q=J.position().top,W=J.position().left;if(h.support.backgroundSize){this.setBgImage(this._$el,J)}else{this.setImage(this._$el,J)}var X=this._$el.parent(),V=X.height();for(var N=0;N<this._numRows;N++){var O=X.width(),U=Math.min(this._height,V);V-=U;for(var M=0;M<this._numCols;M++){var K=Math.min(this._width,O),S=N*this._height,L=M*this._width,T=(W-L)+"px",R=(Q-S)+"px",Y=this._blockArray[N][M];Y.css({top:S+"px",left:L+"px"}).width(K).height(U);if(h.support.backgroundSize){Y.css({backgroundPosition:T+" "+R})}else{Y.find(">img").css({left:T,top:R})}O-=K}}this._$el.css(h.extend({opacity:1,visibility:"visible",transform:""},P))};q.prototype.getDiagonalArray=function(){var K=[];var L=0,J=(this._numRows-1)+(this._numCols-1)+1;while(L!=J){i=Math.min(this._numRows-1,L);while(i>=0){j=Math.abs(i-L);if(j>=this._numCols){break}K.push(this._blockArray[i][j]);i--}L++}return K};q.prototype.getZigZagArray=function(M){var L=0,J=0,K=true;var O=[];if("zigZagUp"===M||"zigZagDown"===M){for(var N=0;N<this._total;N++){O[N]=this._blockArray[L][J];K?J++:J--;if(J==this._numCols||J<0){K=!K;J=(K?0:this._numCols-1);L++}}}else{for(var N=0;N<this._total;N++){O[N]=this._blockArray[L][J];K?L++:L--;if(L==this._numRows||L<0){K=!K;L=(K?0:this._numRows-1);J++}}}return O};q.prototype.getDirectionalArray=function(L){var M=[];switch(L){case"blockExpandRight":for(var J=0;J<this._numCols;J++){for(var K=0;K<this._numRows;K++){M.push(this._blockArray[K][J])}}break;case"blockExpandLeft":for(var J=this._numCols-1;J>=0;J--){for(var K=0;K<this._numRows;K++){M.push(this._blockArray[K][J])}}break;case"blockExpandUp":for(var K=this._numRows-1;K>=0;K--){for(var J=0;J<this._numCols;J++){M.push(this._blockArray[K][J])}}break;default:M=this._$el.toArray();break}return M};q.prototype.getSpiralArray=function(){var N=0,M=0;var K=this._numRows-1;var P=this._numCols-1;var L=0;var J=P;var Q=[];while(K>=0&&P>=0){var O=0;while(true){Q.push(this._blockArray[N][M]);if((++O)>J){break}switch(L){case 0:M++;break;case 1:N++;break;case 2:M--;break;case 3:N--;break}}switch(L){case 0:L=1;J=(--K);N++;break;case 1:L=2;J=(--P);M--;break;case 2:L=3;J=(--K);N--;break;case 3:L=0;J=(--P);M++;break}}return Q};function G(K,J){this._options=J;this._stageWidth=J.width;this._stageHeight=J.height;this._rotate=J.autoPlay;this._cssTransition=h.support.transition?J.cssTransition:false;this._cssTransform=h.support.transform&&this._cssTransition;this._numItems;this._currIndex;this._effects={};this._backward;this._verticalCPanel;this._timer;this._timerId=null;this._tooltipId=null;this._layerIds=[];this._inProgress=false;this._start;this._delay=0;this._cpAlign;this._effectArray;this._startX=null;this._startY=null;this._swipeDist=null;this._scrolling;this._scrollEasing;this._promise;this._$rotator;this._$stage;this._$screen;this._$layers;this._$preloader;this._$cpanel;this._$cpWrapper;this._$extPanel;this._$thumbPanel;this._$list;this._$items;this._$thumbList;this._$thumbs;this._$tooltip;this._$currItem;this._$prevItem;this._$rotator=h(K);this.init()}G.prototype={init:function(){if(!this._cssTransition){h.fn.transition=h.fn.animate;h.fn.stopTransition=h.fn.stop}this._$list=this._$rotator.find(">ul");if(!this._$list.hasClass("br-slides")){this._$list.addClass("br-slides")}if(this._options.shuffle){this.shuffleItems(this._$list)}this._$items=this._$list.children("li").addClass("br-item");this._numItems=this._$items.length;var J=parseInt(this._options.startIndex,0);this._currIndex=(!isNaN(J)&&0<=J&&J<this._numItems)?J:0;if(this._numItems<=1){this._rotate=false}if(!this._options.responsive){this._$rotator.width(this._stageWidth).height(this._stageHeight)}this.initStage();this.initItems();this.initCPanel();this.initEffects();if(this._options.responsive){this.resize();h(window).resize(h.proxy(this.resize,this))}if(1<this._numItems){if(this._options.mousewheel){this._$rotator.bind("mousewheel DOMMouseScroll",h.proxy(this.mousescroll,this))}if(this._options.keyboard){h(document).keyup(h.proxy(this.keyControl,this))}if(this._options.pauseOnHover){this._$rotator.hover(h.proxy(this.pause,this),h.proxy(function(K){if(!this.onTooltip(K)){this.play()}},this))}if(A&&this._options.swipe){this._$rotator.bind("touchstart",h.proxy(this.touchStart,this))}}this._options.onInit.call(this);if(this._numItems){if(!z){this.loadNextImage(this._$items.toArray())}else{this.loadAllImages()}this.loadSlide()}},initStage:function(){this.initBorder();this._$list.wrap('<div class="br-stage"><div class="br-screen"></div></div>');this._$screen=this._$list.parent();this._$stage=this._$screen.parent();if(typeof this._options.backgroundColor!=="undefined"){this._$screen.css({backgroundColor:this._options.backgroundColor})}this._$screen.append('<div class="br-layers"></div><div class="br-effects"></div><div class="br-preloader"></div>');this._$preloader=this._$screen.find(">.br-preloader");if(false!==this._options.timer&&"none"!==this._options.timer){if("pie"===this._options.timer){if(this._cssTransform){this._timer=new k(this._$screen,this._options.timerAlign)}}else{this._timer=new v(this._$screen,this._options.timerAlign)}}if("large"===this._options.navButtons&&1<this._numItems){this.initSideButtons()}},initBorder:function(){var L=["borderWidth","borderColor","borderStyle","borderRadius"];for(var K=0;K<L.length;K++){var J=L[K],M=this._options[J];if(typeof M!=="undefined"){this._$rotator.css(J,M)}}if(0<parseInt(this._$rotator.css("borderRightWidth"),0)){this._$rotator.css({backgroundColor:this._$rotator.css("borderRightColor")})}},createBorderWrapper:function(){var J=h("<div></div>").addClass("br-wrapper").copyBorder(this._$rotator);this._$rotator.css({borderWidth:0});if(!this._options.responsive){J.width(this._$rotator.outerWidth(true)).height(this._$rotator.outerHeight(true))}this._$rotator.wrap(J)},initSideButtons:function(){var J=h("<div><div></div></div>").addClass("br-side-prev").click(h.proxy(this.prevSlide,this));var L=h("<div><div></div></div>").addClass("br-side-next").click(h.proxy(this.nextSlide,this));var K=J.add(L).mousedown(u);this._$screen.append(K);if(this._options.navButtonsOnHover){K.css({opacity:0});this._$rotator.hover(function(){K.animate({opacity:1},{duration:B,queue:false})},h.proxy(function(M){if(!this.onTooltip(M)){K.animate({opacity:0},{duration:B,queue:false})}},this))}},initItems:function(){for(var L=0;L<this._numItems;L++){var Q=this._$items.eq(L),K=Q.find(">a").first(),J,M,R;if(K.length){K.addClass("br-img-link");J=K.find(">img");if(0===J.length){M=K.attr("href");R=e(K.text(),"")}Q.data("imgurl",K.attr("href")).append(h('<img alt=""/>').addClass("br-main-img"))}else{J=Q.find(">img:not(.tt-img)").addClass("br-main-img")}if(J.length){M=J.attr("src");R=e(J.attr("title"),"");J.removeAttr("title")}if("image"===this._options.tooltip){if(0===Q.find(">img.tt-img").length){Q.append(h('<img alt=""/>').addClass("tt-img").attr("src",M))}}var P=Q.data("link");if(typeof P!=="undefined"){var O=h("<a></a>").addClass("br-main-link").attr("href",P),N=Q.data("target");if(typeof N!=="undefined"){O.attr("target",N)}if(this._options.pauseOnInteraction){O.click(h.proxy(this.pause,this))}this._$screen.append(O);Q.data("linkEl",O)}this.setShorthandData(Q,"transition",["effect","duration","easing","delay"]);Q.data({caption:R,thumburl:M,ready:false,effect:e(Q.data("effect"),this._options.effect),duration:g(Q.data("duration"),this._options.duration),easing:this.checkEasing(e(Q.data("easing"),this._options.easing)),delay:g(Q.data("delay"),this._options.delay)});this.initLayer(Q)}this._$layers=this._$screen.find(">.br-layers").children()},initCPanel:function(){this._$cpanel=h("<div></div>").addClass("br-cpanel");this._$rotator.append(this._$cpanel);this._cpAlign=e(p[this._options.cpanelAlign],p.bottom);this._verticalCPanel=("left"===this._cpAlign[0]||"right"===this._cpAlign[0]);this.initThumbnails();this.initButtons();var R=this._$cpanel.children();if(R.length){this._$cpanel.wrap('<div class="br-cpanel-wrapper"></div>');this._$cpWrapper=this._$cpanel.parent();if(this._verticalCPanel){var M=0,P=Math.max.apply(null,R.map(function(){return h(this).outerWidth(true)}).get()),N=0,J=0;R.each(function(){h(this).css({left:Math.floor((P-h(this).outerWidth(true))/2)});var S=h(this).outerHeight(true);if(h(this).data("front")){h(this).css({top:N});N+=S}else{h(this).css({bottom:J});J+=S}M+=S});this._$cpanel.css({width:P,height:M});if("top"===this._cpAlign[1]){this._$cpWrapper.css({top:0})}else{if("bottom"===this._cpAlign[1]){this._$cpWrapper.css({bottom:0})}else{this._$cpWrapper.css({top:"50%"});this._$cpanel.css({top:-this._$cpanel.outerHeight(true)/2})}}if(this._options.cpanelOutside){this.setOutsideVerticalCPanel()}else{this.setInsideCPanel()}if(false!==this._options.thumbnails){this._$cpanel.data({margin:this._$cpanel.outerHeight(true)-this._$cpanel.height(),buttonsSize:this._$cpanel.height()-R.filter(".br-thumbnails").height()});if(this._options.responsive){this._$rotator.bind(E,h.proxy(this.resizeVerticalCPanel,this));this.initVerticalScroll()}else{if(this._$cpanel.outerHeight(true)>this._stageHeight){this.resizeVerticalCPanel();this.initVerticalScroll()}}}}else{var L=0,Q=Math.max.apply(null,R.map(function(){return h(this).outerHeight(true)}).get()),K=0,O=0;R.each(function(){h(this).css({top:Math.floor((Q-h(this).outerHeight(true))/2)});var S=h(this).outerWidth(true);if(h(this).data("front")){h(this).css({left:K});K+=S}else{h(this).css({right:O});O+=S}L+=S});this._$cpanel.css({width:L,height:Q});if("left"===this._cpAlign[1]){this._$cpWrapper.css({left:0})}else{if("right"===this._cpAlign[1]){this._$cpWrapper.css({right:0})}else{this._$cpWrapper.css({left:"50%"});this._$cpanel.css({left:-this._$cpanel.outerWidth(true)/2})}}if(this._options.cpanelOutside){this.setOutsideHorizontalCPanel()}else{this.setInsideCPanel()}if(false!==this._options.thumbnails){this._$cpanel.data({margin:this._$cpanel.outerWidth(true)-this._$cpanel.width(),buttonsSize:this._$cpanel.width()-R.filter(".br-thumbnails").width()});if(this._options.responsive){this._$rotator.bind(E,h.proxy(this.resizeHorizontalCPanel,this));this.initHorizontalScroll()}else{if(this._$cpanel.outerWidth(true)>this._stageWidth){this.resizeHorizontalCPanel();this.initHorizontalScroll()}}}}this._$cpanel.css({visibility:"visible"})}else{this._$cpanel.remove()}},setInsideCPanel:function(){this._$cpWrapper.css(this._cpAlign[0],0);if(this._options.cpanelOnHover){this._$cpanel.css({opacity:0});this._$rotator.hover(h.proxy(function(){this._$cpanel.animate({opacity:1},{duration:B,queue:false})},this),h.proxy(function(J){if(!this.onTooltip(J)){this._$cpanel.animate({opacity:0},{duration:B,queue:false})}},this))}},setOutsideHorizontalCPanel:function(){this._$cpWrapper.wrap('<div class="br-ext-cp"></div>');this._$extPanel=this._$cpWrapper.parent().prepend('<div class="br-ext-bg"></div>');var K=this._$cpWrapper.height(),L,J;if("top"===this._cpAlign[0]){L="marginTop";J="top"}else{L="marginBottom";J="bottom"}this._$rotator.css(L,K).css({overflow:"visible"});this._$extPanel.css({left:0,width:"100%",height:K}).css(J,-K);this.createBorderWrapper()},setOutsideVerticalCPanel:function(){this._$cpWrapper.wrap('<div class="br-ext-cp"></div>');this._$extPanel=this._$cpWrapper.parent().prepend('<div class="br-ext-bg"></div>');var K=this._$cpWrapper.width(),L,J;if("left"===this._cpAlign[0]){L="marginLeft";J="left"}else{L="marginRight";J="right"}this._$rotator.css(L,K).css({overflow:"visible"});this._$extPanel.css({top:0,width:K,height:"100%"}).css(J,-K);this.createBorderWrapper()},initButtons:function(){var K={width:this._options.buttonWidth,height:this._options.buttonHeight,margin:this._options.buttonMargin},L,J,M;if(this._options.playButton&&1<this._numItems){L=h("<div><div></div></div>");L.addClass("br-play-button").css(K).toggleClass("br-pause",this._rotate).click(h.proxy(this.togglePlay,this)).mousedown(u);this._$cpanel.prepend(L)}if((true===this._options.navButtons||"small"===this._options.navButtons)&&1<this._numItems){J=h("<div><div></div></div>").addClass("br-prev-button").css(K).toggleClass("br-up",this._verticalCPanel).click(h.proxy(this.prevSlide,this)).mousedown(u);M=h("<div><div></div></div>").addClass("br-next-button").css(K).toggleClass("br-down",this._verticalCPanel).click(h.proxy(this.nextSlide,this)).mousedown(u);if(typeof L!=="undefined"){L.before(M).after(J)}else{J.data("front",true);this._$cpanel.append(J).prepend(M)}}},initThumbnails:function(){var M=this._options.thumbnails;if(false!==M&&"none"!==M){this._$thumbPanel=h("<div></div>").addClass("br-thumbnails");this._$thumbList=h("<ul></ul>");this._$thumbPanel.append(this._$thumbList);this._$cpanel.append(this._$thumbPanel);for(var K=0;K<this._numItems;K++){if("number"===M){this._$thumbList.append("<li>"+(K+1)+"</li>")}else{if("text"===M){this._$thumbList.append("<li>"+this._$items.eq(K).data("caption")+"</li>")}else{if("image"===M){var L=h("<li></li>").addClass("br-thumb-img"),J=h('<img alt=""/>').css({opacity:0});if(!z){L.append("<div></div>")}L.prepend(J).appendTo(this._$thumbList);J.one("load",h.proxy(function(N){this.fillContent(h(N.currentTarget),this._options.thumbWidth,this._options.thumbHeight);h(N.currentTarget).animate({opacity:1},B)},this)).attr("src",this._$items.eq(K).data("thumburl"));if(J[0].complete||"complete"===J[0].readyState){J.trigger("load")}}else{this._$thumbList.append(h("<li></li>").toggleClass("br-bullet","bullet"===M))}}}}this._$thumbs=this._$thumbList.children("li");if("bullet"!==M){this._$thumbs.css({width:this._options.thumbWidth,height:this._options.thumbHeight,margin:this._options.thumbMargin,lineHeight:this._options.thumbHeight+"px"})}if(this._options.selectOnHover){this._$thumbs.mouseenter(h.proxy(this.selectSlide,this))}else{this._$thumbs.click(h.proxy(this.selectSlide,this)).mousedown(u)}if(this._verticalCPanel){this._$thumbList.css({width:this._$thumbs.outerWidth(true),height:this._numItems*this._$thumbs.outerHeight(true)})}else{this._$thumbList.css({width:this._numItems*this._$thumbs.outerWidth(true),height:this._$thumbs.outerHeight(true)})}this.initTooltip()}else{this._options.thumbnails=false}},initLayer:function(K){var J=K.children(":not(.tt-html, img.tt-img, img.br-main-img, a.br-img-link)").addClass("br-layer");K.data("layers",J);this._$screen.find(">.br-layers").append(J);J.each(h.proxy(function(P,O){var N=h(O),L="marginTop",M="marginLeft";if("auto"===N[0].style.width&&"auto"===N[0].style.height){N.css("white-space","nowrap")}if(!isNaN(parseInt(N[0].style.top,0))){if(!b(N[0].style.top)){N.css({top:(x(N.css("top"),0)/this._stageHeight*100)+"%"})}N.css({bottom:"auto"})}else{if(!isNaN(parseInt(N[0].style.bottom,0))){if(!b(N[0].style.bottom)){N.css({bottom:(x(N.css("bottom"),0)/this._stageHeight*100)+"%"})}N.css({top:"auto"});L="marginBottom"}}if(!isNaN(parseInt(N[0].style.left,0))){if(!b(N[0].style.left)){N.css({left:(x(N.css("left"),0)/this._stageWidth*100)+"%"})}N.css({right:"auto"})}else{if(!isNaN(parseInt(N[0].style.right,0))){if(!b(N[0].style.right)){N.css({right:(x(N.css("right"),0)/this._stageWidth*100)+"%"})}N.css({left:"auto"});M="marginRight"}}this.setShorthandData(N,"transition",["effect","duration","easing","delay"]);this.setShorthandData(N,"transitionOut",["effectOut","durationOut","easingOut","delayOut"]);N.data({width:"auto"===N[0].style.width?"auto":N.width(),height:"auto"===N[0].style.height?"auto":N.height(),opacity:w(N.css("opacity"),1),padTop:x(N.css("paddingTop"),0),padBottom:x(N.css("paddingBottom"),0),padLeft:x(N.css("paddingLeft"),0),padRight:x(N.css("paddingRight"),0),borderTop:x(N.css("borderTopWidth"),0),borderBottom:x(N.css("borderBottomWidth"),0),borderLeft:x(N.css("borderLeftWidth"),0),borderRight:x(N.css("borderRightWidth"),0),fontSize:parseInt(N.css("fontSize"),0),lineHeight:parseInt(N.css("lineHeight"),0),verticalMargin:L,horizontalMargin:M,effect:this.getEffect(e(N.data("effect"),this._options.layerEffect)),duration:g(N.data("duration"),this._options.layerDuration),easing:this.checkEasing(e(N.data("easing"),this._options.layerEasing)),delay:F(N.data("delay"),this._options.layerDelay),effectOut:this.getEffect(e(N.data("effectOut"),this._options.layerEffectOut)),durationOut:g(N.data("durationOut"),this._options.layerDurationOut),easingOut:this.checkEasing(e(N.data("easingOut"),this._options.layerEasingOut)),delayOut:F(N.data("delayOut"),this._options.layerDelayOut)})},this))},setShorthandData:function(N,L,O){var K=N.data(L);if(typeof K!=="undefined"){var J=K.split(" ",O.length);for(var M=0;M<O.length;M++){if(typeof J[M]!=="undefined"){N.data(O[M],J[M])}}N.removeData(L)}},initEffects:function(){this._$rotator.one("createEffect.vCover",h.proxy(function(){this._effects.vCover=new I(this,1,0)},this)).one("createEffect.hCover",h.proxy(function(){this._effects.hCover=new H(this,1,0)},this)).one("createEffect.blocks",h.proxy(function(){this._effects.blocks=new q(this,this._options.blockRows,this._options.blockCols,this._options.blockDelay)},this)).one("createEffect.vSlices",h.proxy(function(){this._effects.vSlices=new I(this,this._options.verticalSlices,this._options.verticalSliceDelay)},this)).one("createEffect.hSlices",h.proxy(function(){this._effects.hSlices=new H(this,this._options.horizontalSlices,this._options.horizontalSliceDelay)},this)).one("createEffect.vSlide",h.proxy(function(){this._effects.vSlide=new l(this,"vertical")},this)).one("createEffect.hSlide",h.proxy(function(){this._effects.hSlide=new l(this,"horizontal")},this));var L=this._$items.map(function(){return h(this).data("effect")}).get();L[L.length]=this._options.effect;for(var J=0;J<L.length;J++){var K=L[J];if("random"===K){this._effectArray=[];h.each(o,h.proxy(function(M,N){this._effectArray[this._effectArray.length]=M},this));this._$rotator.trigger("createEffect");break}if(typeof o[K]!=="undefined"){this._$rotator.trigger("createEffect."+o[K][0])}}this._$rotator.unbind("createEffect")},initTooltip:function(){if(false!==this._options.tooltip&&"none"!==this._options.tooltip){this._$tooltip=h("<div></div>").addClass("br-tt br-tt-"+this._cpAlign[0]).append('<div class="br-tt-tip"></div><div class="br-tt-content"></div>');var J=this._$tooltip.find(">.br-tt-content").width(this._options.tooltipWidth).height(this._options.tooltipHeight);h("body").prepend(this._$tooltip);if("image"===this._options.tooltip){this._$items.each(h.proxy(function(O,M){var L=h(M).find(">img.tt-img"),K=L.clone();J.append(K);var N=this._$thumbs.eq(O);N.hover(h.proxy(function(){this._$tooltip.stop(true,true).find("img").hide().eq(O).show();this.displayTooltip(N)},this),h.proxy(this.hideTooltip,this));L.one("load",h.proxy(function(){this.fillContent(L,this._options.tooltipWidth,this._options.tooltipHeight);K.css({visibility:"visible",top:L.css("top"),left:L.css("left")}).width(L.width()).height(L.height());L.remove()},this));if(L[0].complete||"complete"===L[0].readyState){L.trigger("load")}},this))}else{this._$items.each(h.proxy(function(Q,O){var L,M=h(O).find(">.tt-html");if(M.length&&""!==M.html()){L=M.html()}else{L=h(O).data("caption")}if(typeof L!=="undefined"&&""!==L){var P=this._$thumbs.eq(Q);if("auto"===this._options.tooltipWidth&&"auto"===this._options.tooltipHeight){J.html(L);var N=J.width()+1,K=J.height()+1;J.html("");P.bind(r,h.proxy(function(){J.width(N).height(K)},this))}P.hover(h.proxy(function(){this._$tooltip.stop(true,true);P.trigger(r);J.html(L);this.displayTooltip(P)},this),h.proxy(this.hideTooltip,this))}},this))}if(D){this._$tooltip.mouseleave(h.proxy(function(K){if(document.elementFromPoint&&!h(document.elementFromPoint(K.clientX,K.clientY)).closest(".banner-rotator").is(this._$rotator)){this._$rotator.trigger("mouseleave")}},this))}}},displayTooltip:function(M){var J=this._options.cpanelOutside?this._$extPanel:M,L,K;if(this._verticalCPanel){K=J.offset().left;if("left"===this._cpAlign[0]){K+=J.outerWidth()}else{K-=this._$tooltip.outerWidth(true)}L=M.offset().top-(this._$tooltip.outerHeight(true)-M.outerHeight())/2}else{L=J.offset().top;if("top"===this._cpAlign[0]){L+=J.outerHeight()}else{L-=this._$tooltip.outerHeight(true)}K=M.offset().left-(this._$tooltip.outerWidth(true)-M.outerWidth())/2}this._tooltipId=setTimeout(h.proxy(function(){this._$tooltip.css({opacity:0,top:L,left:K}).show().animate({opacity:1},B)},this),this._options.tooltipDelay)},hideTooltip:function(){clearTimeout(this._tooltipId);this._$tooltip.stop(true).animate({opacity:0},400,function(){h(this).hide()})},selectSlide:function(K){if(this._options.pauseOnInteraction){this.pause()}if(!this._inProgress){var J=h(K.currentTarget).index();if(J!==this._currIndex){if(this._options.layerOutSync){this.loadDeferred(h.proxy(function(){this.select_slide(J)},this))}else{this.select_slide(J)}}}},select_slide:function(J){this._backward=J<this._currIndex;this._currIndex=J;this.loadSlide()},prevSlide:function(){if(this._options.pauseOnInteraction){this.pause()}if(!this._inProgress){if(this._options.layerOutSync){this.loadDeferred(h.proxy(function(){this.prev_slide()},this))}else{this.prev_slide()}}},prev_slide:function(){this._options.onPrev.call(this);this._backward=true;this._currIndex=(this._currIndex>0)?(this._currIndex-1):(this._numItems-1);this.loadSlide()},nextSlide:function(){if(this._options.pauseOnInteraction){this.pause()}if(!this._inProgress){if(this._options.layerOutSync){this.loadDeferred(h.proxy(function(){this.next_slide()},this))}else{this.next_slide()}}},next_slide:function(){this._options.onNext.call(this);this._backward=false;this._currIndex=(this._currIndex<this._numItems-1)?(this._currIndex+1):0;this.loadSlide()},rotateSlide:function(){if(!this._inProgress){if(this._options.layerOutSync){this.loadDeferred(h.proxy(function(){this.rotate_slide()},this))}else{this.rotate_slide()}}},rotate_slide:function(){this._backward=false;this._currIndex=(this._currIndex<this._numItems-1)?(this._currIndex+1):0;this.loadSlide()},togglePlay:function(){if(this._rotate){this.pause()}else{this.play()}},play:function(){if(!this._rotate){this._rotate=true;this._$cpanel.find(">.br-play-button").addClass("br-pause");if(!this._inProgress){this.resumeTimer()}this._options.onPlay.call(this)}},pause:function(){if(this._rotate){this._rotate=false;this._$cpanel.find(">.br-play-button").removeClass("br-pause");if(!this._inProgress){this.pauseTimer()}this._options.onPause.call(this)}},displayLayers:function(){this.stopLayers();this._layerIds=[];this._$currItem.data("layers").each(h.proxy(function(K,J){this._layerIds.push(setTimeout(h.proxy(function(){this.animateLayer(h(J))},this),h(J).data("delay")))},this))},animateLayer:function(J){J.stopTransition(true,true);var K=J.data(),M={},L={};J.css({opacity:K.opacity,margin:0,transform:""}).show();switch(K.effect){case"fade":M={opacity:0};L={opacity:K.opacity};break;case"moveDown":M[K.verticalMargin]=this.getVerticalOffset(J,true);L[K.verticalMargin]=0;break;case"moveUp":M[K.verticalMargin]=this.getVerticalOffset(J,false);L[K.verticalMargin]=0;break;case"moveRight":M[K.horizontalMargin]=this.getHorizontalOffset(J,true);L[K.horizontalMargin]=0;break;case"moveLeft":M[K.horizontalMargin]=this.getHorizontalOffset(J,false);L[K.horizontalMargin]=0;break;case"zoomIn":M={transform:"scale(0)",opacity:0};L={transform:"scale(1)",opacity:K.opacity};break;case"zoomOut":M={transform:"scale(2)",opacity:0};L={transform:"scale(1)",opacity:K.opacity};break;case"flipDown":M={transform:"perspective(400px) rotateX(90deg)"};L={transform:"perspective(400px) rotateX(0deg)"};break;case"flipUp":M={transform:"perspective(400px) rotateX(-90deg)"};L={transform:"perspective(400px) rotateX(0deg)"};break;case"flipRight":M={transform:"perspective(400px) rotateY(-90deg)"};L={transform:"perspective(400px) rotateY(0deg)"};break;case"flipLeft":M={transform:"perspective(400px) rotateY(90deg)"};L={transform:"perspective(400px) rotateY(0deg)"};break;case"slideDown":case"slideUp":case"slideRight":case"slideLeft":this.slideEffect(J,{effect:K.effect,duration:K.duration,easing:K.easing,effectOut:false});this.deferLayerOut(J);return;default:this.deferLayerOut(J);return}J.css(M).transition(L,K.duration,K.easing);this.deferLayerOut(J)},deferLayerOut:function(J){var K=J.data("delayOut");if(typeof K!=="undefined"&&0<=K){J.promise().done(h.proxy(function(){this._layerIds.push(setTimeout(h.proxy(function(){this.animateLayerOut(J)},this),K))},this))}},animateLayerOut:function(J){J.stopTransition(true,true);var K=J.data(),M={},L={};switch(K.effectOut){case"fade":M={opacity:K.opacity};L={opacity:0};break;case"moveDown":M[K.verticalMargin]=0;L[K.verticalMargin]=this.getVerticalOffset(J,false);break;case"moveUp":M[K.verticalMargin]=0;L[K.verticalMargin]=this.getVerticalOffset(J,true);break;case"moveRight":M[K.horizontalMargin]=0;L[K.horizontalMargin]=this.getHorizontalOffset(J,false);break;case"moveLeft":M[K.horizontalMargin]=0;L[K.horizontalMargin]=this.getHorizontalOffset(J,true);break;case"zoomIn":M={transform:"scale(1)",opacity:K.opacity};L={transform:"scale(2)",opacity:0};break;case"zoomOut":M={transform:"scale(1)",opacity:K.opacity};L={transform:"scale(0)",opacity:0};break;case"flipDown":M={transform:"perspective(400px) rotateX(0deg)"};L={transform:"perspective(400px) rotateX(-90deg)"};break;case"flipUp":M={transform:"perspective(400px) rotateX(0deg)"};L={transform:"perspective(400px) rotateX(90deg)"};break;case"flipRight":M={transform:"perspective(400px) rotateY(0deg)"};L={transform:"perspective(400px) rotateY(90deg)"};break;case"flipLeft":M={transform:"perspective(400px) rotateY(0deg)"};L={transform:"perspective(400px) rotateY(-90deg)"};break;case"slideDown":case"slideUp":case"slideRight":case"slideLeft":this.slideEffect(J,{effect:K.effectOut,duration:K.durationOut,easing:K.easingOut,effectOut:true,complete:function(){h(this).hide()}});J.data({promise:J.promise()});return;default:J.hide();return}J.css(M).transition(L,K.durationOut,K.easingOut,function(){h(this).hide()}).data({promise:J.promise()})},slideEffect:function(L,O){var M=O.effect,Q={},P={},N=this,J,K;if("slideLeft"===M||"slideRight"===M){J="left";K=L.outerWidth(true)}else{J="top";K=L.outerHeight(true)}if(O.effectOut){Q[J]=0;P[J]=("slideLeft"===M||"slideUp"===M)?-K:K}else{Q[J]=("slideRight"===M||"slideDown"===M)?-K:K;P[J]=0}this.createWrapper(L);L.css(Q).transition(P,O.duration,O.easing,function(){N.removeWrapper(L);if(h.isFunction(O.complete)){O.complete.call(this)}})},createWrapper:function(K){this.saveStyle(K);var J={width:K.width(),height:K.height()},L=h("<div></div>");L.addClass("br-effect-wrapper").css({position:K.css("position"),"float":K.css("float"),width:K.outerWidth(true),height:K.outerHeight(true),zIndex:K.css("zIndex"),top:K[0].style.top,left:K[0].style.left,bottom:K[0].style.bottom,right:K[0].style.right});K.wrap(L).css({position:"relative",top:0,left:0,bottom:"auto",right:"auto"}).css(J)},removeWrapper:function(J){this.restoreStyle(J);if(J.parent().is(".br-effect-wrapper")){J.unwrap()}},saveStyle:function(K){var M={},L=["position","top","left","bottom","right","width","height"];for(var J=0;J<L.length;J++){M[L[J]]=K[0].style[L[J]]}K.data("effectdata",M)},restoreStyle:function(J){h.each(J.data("effectdata"),function(K,L){if(typeof L==="undefined"){L=""}J.css(K,L)})},stopLayers:function(){while(this._layerIds.length){clearTimeout(this._layerIds.pop())}this._$layers.stopTransition(true,true)},clearLayers:function(K){this.stopLayers();var J=this._$layers.filter(":visible");if(K){J.each(h.proxy(function(M,L){this.animateLayerOut(h(L))},this))}else{J.hide()}},loadDeferred:function(L){if(typeof this._promise==="undefined"||"pending"!==this._promise.state()){this._$items.find(">img.br-main-img").unbind("load.display");this.resetTimer();while(this._layerIds.length){clearTimeout(this._layerIds.pop())}var J=this._$layers.filter(":visible");if(J.length){var K=[];J.each(h.proxy(function(O,N){var M=h(N);if(typeof M.data("promise")==="undefined"||"pending"!==M.data("promise").state()){this.animateLayerOut(M)}K[O]=M.data("promise")},this));this._promise=h.when.apply(null,K).done(function(){L.call(this)});J.removeData("promise")}else{L.call(this)}}},loadSlide:function(){this._$items.find(">img.br-main-img").unbind("load.display");this._$screen.find(">a.br-main-link").hide();this.resetTimer();this.clearLayers(true);h.each(this._effects,function(L,M){M.clear()});if(0===this._currIndex){this._options.onFirstSlide.call(this)}if((this._numItems-1)===this._currIndex){this._options.onLastSlide.call(this);if(this._options.playOnce){this.pause()}}this._options.onSlideChange.call(this);if(false!==this._options.thumbnails){this._$thumbs.removeClass("br-curr").eq(this._currIndex).addClass("br-curr");this._$rotator.trigger(f)}var J=this._$items.eq(this._currIndex);if(J.data("ready")){this.displayContent(J)}else{this._$preloader.show();var K=J.find(">img.br-main-img");K.one("load.display",h.proxy(function(){if(!J.data("ready")){this.processImage(J)}this.displayContent(J)},this));if(typeof K.attr("src")==="undefined"||""===K.attr("src")){K.attr("src",J.data("imgurl"))}if(K[0].complete||"complete"===K[0].readyState){K.trigger("load")}}},displayContent:function(J){this._$preloader.hide();this._inProgress=true;this._$prevItem=this._$currItem;this._$currItem=J;var N=this._$currItem.data();if(typeof N.linkEl!=="undefined"){N.linkEl.show()}if(!this._options.layerSync){this.displayLayers()}if(typeof this._$prevItem==="undefined"||this._$prevItem.index()===this._$currItem.index()){this.displayCurrent();return}var M=N.effect;if("random"===M){M=this._effectArray[Math.floor(Math.random()*this._effectArray.length)]}if(typeof o[M]!=="undefined"){var K=o[M][0];var L=o[M][1];this._effects[K][L](this._$currItem.find(">img.br-main-img"),M,N.duration,N.easing)}else{this.displayCurrent()}},displayCurrent:function(){this._options.onSlideComplete.call(this);if(this._options.layerSync){this.displayLayers()}this._$items.css({visibility:"hidden"});this._$currItem.css({visibility:"visible"});this.startTimer();this._inProgress=false},loadImage:function(K){var J=h.Deferred(),L=K.find(">img.br-main-img");L.one("load",h.proxy(function(){if(!K.data("ready")){this.processImage(K)}J.resolve()},this)).error(function(){J.reject()});if(typeof L.attr("src")==="undefined"||""===L.attr("src")){L.attr("src",K.data("imgurl"))}if(L[0].complete||"complete"===L[0].readyState){L.trigger("load")}return J},loadNextImage:function(J,K){if(J.length){h.when(this.loadImage(h(J.pop()))).always(h.proxy(function(){this.loadNextImage(J,K)},this))}else{if(h.isFunction(K)){K.call(this)}}},loadAllImages:function(){var J=0;var K=setInterval(h.proxy(function(){if(J<this._numItems){var L=this._$items.eq(J++),M=L.find(">img.br-main-img");M.one("load",h.proxy(function(){if(!L.data("ready")){this.processImage(L)}},this));if(typeof M.attr("src")==="undefined"||""===M.attr("src")){M.attr("src",L.data("imgurl"))}if(M[0].complete||"complete"===M[0].readyState){M.trigger("load")}}else{clearInterval(K)}},this),100)},processImage:function(Q){var J=Q.find(">img.br-main-img"),M=e(Q.data("imagePosition"),this._options.imagePosition),N=M.split(" ");if(2===N.length){if(!isNaN(parseInt(N[0],0))){J.css({left:N[0]})}if(!isNaN(parseInt(N[1],0))){J.css({top:N[1]})}}else{switch(M){case"fill":this.fillContent(J,this._stageWidth,this._stageHeight);break;case"fit":this.fitContent(J,this._stageWidth,this._stageHeight);break;case"center":this.centerContent(J,this._stageWidth,this._stageHeight);break;case"stretch":this.stretchContent(J,this._stageWidth,this._stageHeight);break}}var O=this._$stage.width()/this._stageWidth,P=parseInt(J.css("top"),0),L=parseInt(J.css("left"),0),K=J.width(),R=J.height();J.data({top:P,left:L,width:K,height:R}).css({top:Math.round(O*P),left:Math.round(O*L)}).width(Math.round(O*K)).height(Math.round(O*R));Q.data("ready",true)},centerContent:function(J,K,L){J.css({top:(L-J.height())/2,left:(K-J.width())/2})},fillContent:function(K,M,O){if("auto"===M||"auto"===O){return}var L=K.width(),J=K.height(),N=Math.max(O/J,M/L);K.width(L*N).height(J*N);this.centerContent(K,M,O)},fitContent:function(K,O,P){var M=K.width(),J=K.height(),N=O/P,L=M/J;if(N>L){M*=P/J;J=P}else{J*=O/M;M=O}K.width(M).height(J);this.centerContent(K,O,P)},stretchContent:function(J,K,L){J.css({top:0,left:0,width:K,height:L})},startTimer:function(){this._delay=this._$currItem.data("delay");this.resumeTimer()},resumeTimer:function(){if(this._rotate&&0<this._delay){this._start=new Date();this._timerId=setTimeout(h.proxy(this.rotateSlide,this),this._delay);if(typeof this._timer!=="undefined"){this._timer.start(this._delay)}}},resetTimer:function(){this._delay=0;clearTimeout(this._timerId);if(typeof this._timer!=="undefined"){this._timer.stop()}},pauseTimer:function(){if(typeof this._start!=="undefined"){this._delay-=(new Date()-this._start)}clearTimeout(this._timerId);if(typeof this._timer!=="undefined"){this._timer.pause()}},initHorizontalScroll:function(){this._scrollEasing=("easeOutCirc" in h.easing)?"easeOutCirc":"linear";this._$rotator.bind(f,h.proxy(this.updateHorizontalThumbs,this));if(!A){this._$thumbPanel.hover(h.proxy(function(){this._$rotator.unbind(f)},this),h.proxy(function(){this._$rotator.unbind(f).bind(f,h.proxy(this.updateHorizontalThumbs,this))},this)).mousemove(h.proxy(function(K){var J=(K.pageX-this._$thumbPanel.offset().left)/this._$thumbPanel.width();this._$thumbList.animate({left:Math.round(this._$thumbPanel.data("range")*J)},{duration:B,easing:this._scrollEasing,queue:false})},this))}},initVerticalScroll:function(){this._scrollEasing=("easeOutCirc" in h.easing)?"easeOutCirc":"linear";this._$rotator.bind(f,h.proxy(this.updateVerticalThumbs,this));if(!A){this._$thumbPanel.hover(h.proxy(function(){this._$rotator.unbind(f)},this),h.proxy(function(){this._$rotator.unbind(f).bind(f,h.proxy(this.updateVerticalThumbs,this))},this)).mousemove(h.proxy(function(K){var J=(K.pageY-this._$thumbPanel.offset().top)/this._$thumbPanel.height();this._$thumbList.animate({top:Math.round(this._$thumbPanel.data("range")*J)},{duration:B,easing:this._scrollEasing,queue:false})},this))}},updateHorizontalThumbs:function(){var K=this._$thumbs.eq(this._currIndex).offset().left,J=this._$thumbPanel.offset().left;if(K<J){this._$thumbList.animate({left:-this._currIndex*this._$thumbs.outerWidth(true)},{duration:B,easing:this._scrollEasing,queue:false})}else{if(K+this._$thumbs.width()>J+this._$thumbPanel.width()){var L=(((this._numItems-1)-this._currIndex)*this._$thumbs.outerWidth(true))+this._$thumbPanel.data("range");this._$thumbList.animate({left:L},{duration:B,easing:this._scrollEasing,queue:false})}}},updateVerticalThumbs:function(){var K=this._$thumbs.eq(this._currIndex).offset().top,J=this._$thumbPanel.offset().top;if(K<J){this._$thumbList.animate({top:-this._currIndex*this._$thumbs.outerHeight(true)},{duration:B,easing:this._scrollEasing,queue:false})}else{if(K+this._$thumbs.height()>J+this._$thumbPanel.height()){var L=(((this._numItems-1)-this._currIndex)*this._$thumbs.outerHeight(true))+this._$thumbPanel.data("range");this._$thumbList.animate({top:L},{duration:B,easing:this._scrollEasing,queue:false})}}},resizeHorizontalCPanel:function(){this._$thumbPanel.width(Math.min(this._$screen.width()-this._$cpanel.data("margin")-this._$cpanel.data("buttonsSize"),this._$thumbList.width()));this._$cpanel.width(this._$cpanel.data("buttonsSize")+this._$thumbPanel.width());this._$cpWrapper.siblings(".br-ext-bg").width(this._$screen.width());this._$thumbList.stop();var J=this._$thumbPanel.width()-this._$thumbList.width();if(this._$thumbList.position().left<J){this._$thumbList.css({left:J})}this._$thumbPanel.data({range:J});if("center"===this._cpAlign[1]){this._$cpanel.css({left:-this._$cpanel.outerWidth(true)/2})}},resizeVerticalCPanel:function(){this._$thumbPanel.height(Math.min(this._$screen.height()-this._$cpanel.data("margin")-this._$cpanel.data("buttonsSize"),this._$thumbList.height()));this._$cpanel.height(this._$cpanel.data("buttonsSize")+this._$thumbPanel.height());this._$rotator.find(">.br-ext-cp").height(this._$screen.height());this._$thumbList.stop();var J=this._$thumbPanel.height()-this._$thumbList.height();if(this._$thumbList.position().top<J){this._$thumbList.css({top:J})}this._$thumbPanel.data({range:J});if("center"===this._cpAlign[1]){this._$cpanel.css({top:-this._$cpanel.outerHeight(true)/2})}},touchStart:function(J){if(1===J.originalEvent.touches.length){this._startX=J.originalEvent.touches[0].pageX;this._startY=J.originalEvent.touches[0].pageY;this._$rotator.bind("touchmove",h.proxy(this.touchMove,this)).one("touchend",h.proxy(this.touchEnd,this))}},touchMove:function(L){var J=this._startX-L.originalEvent.touches[0].pageX;var K=this._startY-L.originalEvent.touches[0].pageY;if("verticalSlide"===this._options.effect){this._swipeDist=K;this._scrolling=Math.abs(this._swipeDist)<Math.abs(J)}else{this._swipeDist=J;this._scrolling=Math.abs(this._swipeDist)<Math.abs(K)}if(!this._scrolling){L.preventDefault()}},touchEnd:function(J){this._$rotator.unbind("touchmove");if(!this._scrolling){if(null!==this._swipeDist&&Math.abs(this._swipeDist)>m){if(this._swipeDist>0){this.nextSlide()}else{this.prevSlide()}}}this._startX=this._startY=this._swipeDist=null},mousescroll:function(J){J.preventDefault();var K=(typeof J.originalEvent.wheelDelta==="undefined")?-J.originalEvent.detail:J.originalEvent.wheelDelta;if(K>0){this.prevSlide()}else{this.nextSlide()}},keyControl:function(J){switch(J.keyCode){case 37:this.prevSlide();break;case 39:this.nextSlide();break;case 80:this.togglePlay();break}},resize:function(){this.resetTimer();this.clearLayers(false);var J=this._$stage.width()/this._stageWidth;this._$stage.height(Math.round(J*this._stageHeight));this._$screen.width(this._$stage.width()).height(this._$stage.height());h.each(this._effects,function(L,M){M.resize(J)});this._$items.each(function(){if(h(this).data("ready")){var L=h(this).find(">img.br-main-img");L.css({top:Math.round(J*L.data("top")),left:Math.round(J*L.data("left"))}).width(Math.round(J*L.data("width"))).height(Math.round(J*L.data("height")))}});this._$layers.each(function(){var M=h(this).data(),L={};if(!isNaN(M.width)){L.width=Math.ceil(J*M.width)+"px"}if(!isNaN(M.height)){L.height=Math.ceil(J*M.height)+"px"}h(this).css({paddingTop:Math.round(J*M.padTop)+"px",paddingBottom:Math.round(J*M.padBottom)+"px",paddingLeft:Math.round(J*M.padLeft)+"px",paddingRight:Math.round(J*M.padRight)+"px",borderTopWidth:Math.round(J*M.borderTop)+"px",borderBottomWidth:Math.round(J*M.borderBottom)+"px",borderLeftWidth:Math.round(J*M.borderLeft)+"px",borderRightWidth:Math.round(J*M.borderRight)+"px",fontSize:Math.floor(J*M.fontSize)+"px",lineHeight:Math.floor(J*M.lineHeight)+"px"}).css(L)});this._$rotator.trigger(E);var K=this._$items.eq(this._currIndex);if(K.data("ready")){this._$items.css({visibility:"hidden"});K.css({visibility:"visible"});this.displayLayers();this.startTimer()}},getEffect:function(J){if(!this._cssTransform){if(-1<h.inArray(J,["zoomIn","zoomOut","flipDown","flipUp","flipRight","flipLeft"])){J="fade"}}return J},shuffleItems:function(K){var J=K.children("li").toArray();y(J);K.append(J)},checkEasing:function(J){if(this._cssTransition){if(!(J in C)){J="ease"}}else{if(!(J in h.easing)){J="swing"}}return J},onTooltip:function(J){if(D&&document.elementFromPoint){return h(document.elementFromPoint(J.clientX,J.clientY)).closest(".br-tt").is(this._$tooltip)}return false},getVerticalOffset:function(J,L){var K;if("marginBottom"===J.data("verticalMargin")){L=!L;K=J[0].style.bottom}else{K=J[0].style.top}K=Math.ceil(parseFloat(K)/100*this._$screen.height());return L?-(K+J.outerHeight()+1):(this._$screen.height()-K)+1},getHorizontalOffset:function(L,K){var J;if("marginRight"===L.data("horizontalMargin")){K=!K;J=L[0].style.right}else{J=L[0].style.left}J=Math.ceil(parseFloat(J)/100*this._$screen.width());return K?-(J+L.outerWidth()+1):(this._$screen.width()-J)+1}};function u(J){J.preventDefault()}function x(J,K){return parseInt(J,0)||K}function g(J,K){J=parseInt(J,0);return(isNaN(J)||J<=0)?K:J}function F(J,K){J=parseInt(J,0);return(isNaN(J)||J<0)?K:J}function w(J,K){return parseFloat(J)||K}function e(J,K){return(typeof J!=="undefined")?J:K}function b(J){return(J.indexOf("%")>0)}function t(Q){var O=["Webkit","Moz","O","ms"],N=document.body||document.documentElement,L=N.style,K=false;if(typeof L[Q]!=="undefined"){K=Q}else{var M=Q.charAt(0).toUpperCase()+Q.slice(1);for(var J=0;J<O.length;J++){var P=O[J]+M;if(typeof L[P]!=="undefined"){K=P;break}}}h.support[Q]=K;return K}function a(J){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){if(typeof J==="undefined"){return true}var K=new Number(RegExp.$1);if(K<=J){return true}}return false}function y(J){var M=J.length;while(--M>0){var K=Math.floor(Math.random()*(M+1)),L=J[M];J[M]=J[K];J[K]=L}}h.fn.copyBorder=function(M){var L=["top","bottom","left","right"],K=["width","style","color"],J=["borderRadiusTopLeft","borderRadiusTopRight","borderRadiusBottomLeft","borderRadiusBottomRight"];return this.each(function(){for(var P=0;P<L.length;P++){for(var O=0;O<K.length;O++){var N="border-"+L[P]+"-"+K[O];h(this).css(N,M.css(N))}}for(var O=0;O<J.length;O++){h(this).css(J[O],M.css(J[O]))}})};h.fn.transition=function(J,K,M,L){return this.each(function(){h(this).queue(function(){if(h.isFunction(L)){h(this).one(n,L)}h(this).one(n,function(){h(this).css(d,"none").css(d+"-duration","0s").dequeue()});J[d]="all "+K+"ms "+C[M];h(this).reflow().css(J)})})};h.fn.stopTransition=function(J,K){return this.each(function(){if(J){h(this).clearQueue()}if(K){h(this).trigger(n)}else{h(this).unbind(n)}h(this).css(d,"none").css(d+"-duration","0s")})};h.fn.reflow=function(){return this.each(function(){var J=this.offsetWidth})};h.fn.forceTransitionEnd=function(J){return this.each(function(){var K=false;h(this).one(n,function(){K=true});setTimeout(h.proxy(function(){if(!K){h(this).trigger(n)}},this),J)})};if(h.cssHooks&&h.support.borderRadius){function s(J){var K=("borderRadius"===h.support.borderRadius)?"border":h.support.borderRadius.replace("BorderRadius","")+"Border";if("MozBorderRadius"===h.support.borderRadius){return"MozBorderRadius"+J.charAt(0).toUpperCase()+J.substr(1).toLowerCase()}else{return K+J+"Radius"}}h.each(["TopLeft","TopRight","BottomRight","BottomLeft"],function(K,J){h.cssHooks["borderRadius"+J]={get:function(N,M,L){return h.css(N,s(J))},set:function(L,M){L.style[s(J)]=M}}})}h.fn.bannerRotator=function(L){var K={width:1000,height:300,thumbWidth:28,thumbHeight:28,thumbMargin:3,buttonWidth:28,buttonHeight:28,buttonMargin:3,tooltipWidth:"auto",tooltipHeight:"auto",startIndex:0,autoPlay:true,delay:6000,playOnce:false,pauseOnHover:false,pauseOnInteraction:false,effect:"fade",duration:800,easing:"",cpanelAlign:"bottom",cpanelOutside:false,cpanelOnHover:false,thumbnails:"number",selectOnHover:false,tooltip:"text",tooltipDelay:0,playButton:true,timer:"pie",timerAlign:"topRight",navButtons:"small",navButtonsOnHover:false,layerEffect:"fade",layerDuration:B,layerEasing:"",layerDelay:0,layerEffectOut:"fade",layerDurationOut:B,layerEasingOut:"",layerDelayOut:-1,layerSync:true,layerOutSync:true,imagePosition:"fill",blockCols:12,blockRows:4,verticalSlices:14,horizontalSlices:6,blockDelay:25,verticalSliceDelay:75,horizontalSliceDelay:75,shuffle:false,mousewheel:false,keyboard:true,swipe:true,cssTransition:true,responsive:true,onInit:function(){},onSlideChange:function(){},onSlideComplete:function(){},onFirstSlide:function(){},onLastSlide:function(){},onPlay:function(){},onPause:function(){},onPrev:function(){},onNext:function(){}};var J=h.extend({},K,L);return this.each(function(){var M=new G(this,J)})}})(jQuery);